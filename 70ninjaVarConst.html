<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="assert.js"></script>
</head>
<body>
    <script>
        /*var globalNinja = "Yoshi";

        function reportActivity(){
            var functionActivity = "jumping";

            for(var i = 1; i < 3 ; i++){
                var forMessage = globalNinja + " " + functionActivity;
                assert(forMessage === "Yoshi jumping","Yoshi is jumping within the for block");
                assert(i,"Current loop counter:" + i);
            }

            assert(i === 3 && forMessage === "Yoshi jumping","Loop variables accessible outside of loop");
            // 使用var時會忽略區塊環境，直接把區塊裡的變數建立在函式環境中
        }

        reportActivity();
        assert(typeof functionActivity === "undefined" && typeof i === "undefined" && typeof forMessage === "undefined","we cannot see function variables outside of a function");*/
        /*這裡有三個字彙環境：
            1.註冊globalNinja變數的全域環境。
            2.在呼叫reportActivity函式時建立的reportActivity()環境，這個環境包括functionActivity、
            i和forMessage這三個變數，因為他們是使用關鍵字var定義的。
            3.for環境區塊，它是空的，因為用var會忽略程式區塊，即便變數是定義在區塊環境中。
        */

        const GLOBAL_NINJA = "Yoshi";

        function reportActivity(){
            const functionActivity = "jumping";

            for(let i = 1;i < 3;i++){
                let forMessage = GLOBAL_NINJA + " " + functionActivity;
                assert(forMessage === "Yoshi jumping","Yoshi is jumping within the for block");
                assert(i,"Current loop counter:"+i);
            }

            assert(typeof i ==="undefined" && typeof forMessage === "undefined","Loop variables not accessible outside the loop");
        }

        reportActivity();
        assert(typeof functionActivity === "undefined" && typeof i === "undefined" && typeof forMessage === "undefined","we cannot see function variables outside of a function");
    </script>
</body>
</html>