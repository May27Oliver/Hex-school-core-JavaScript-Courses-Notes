<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
<script>

var person = {
    a:1,
    b:2,
    c:{}
}
// // 延伸的三個物件方法 preventExtension、seal、Freeze
// //中文語意分別表示 防止擴充、封裝、凍結

// //preventExtensions
//An object called by this method can't have any new properties being added.你不能在被preventExtension()的物件裡新增屬性
//防止擴充
// Object.preventExtensions(person);
// console.log('是否可被擴充',Object.isExtensible(person));
// console.log('person a 的屬性特徵',Object.getOwnPropertyDescriptor(person, 'a'));

// //調整屬性
// person.a ='a';

// //新增屬性
// person.d = 'd';

// //巢狀屬性
// person.c.a = 'ca';//防擴充僅能做到淺層防止

// //調整特徵
// Object.defineProperty(person,'a',{
//     configurable: false
// });

//刪除
delete person.b;

//結果
console.log('person 物件',person);
console.log('person a 屬性特徵(嘗試修改後)',Object.getOwnPropertyDescriptor(person, 'a'));

//seal
//物件屬性無法新增刪除，也無法重新配置特徵(writable、configuable那些特徵)，但是可以調整目前屬性值
// An object called by this method can not have any new properties being added or current properties deleted.
// Object.seal(Person);
// console.log('是否可被封裝',Object.isSealed(person));
// console.log('person a 的屬性特徵',Object.getOwnPropertyDescriptor(person,'a'));

// //調整屬性
// person.a = 'a';

// //新增屬性
// person.d = 'd';

// //巢狀屬性調整
// person.c.a='ca';

// //調整特徵
// Object.defineProperty(person,'a',{
//     writable:false
// })

// //刪除
// delete person.b;

// //結果
// console.log('person 物件',person);
// console.log('person a 屬性特徵(嘗試修改後)',Object.getOwnPropertyDescriptor(person,'a'));


//Freeze
//物件屬性無法新增刪除，也無法重新配置特徵(writable、configuable那些特徵)，但是可以調整目前屬性值
// An object called by this method can not have any further changes done to it.
Object.freeze(person);
console.log('是否可被凍結',Object.isFrozen(person));
console.log('person a 的屬性特徵',Object.getOwnPropertyDescriptor(person,'a'));

//調整屬性
person.a = 'a';

//新增屬性
person.d = 'd';

//巢狀屬性調整
person.c.a='ca';

//調整特徵
Object.defineProperty(person,'a',{
    writable:true//freeze之後這裡會出錯
})

//刪除
delete person.b;

//結果
console.log('person 物件',person);
console.log('person a 屬性特徵(嘗試修改後)',Object.getOwnPropertyDescriptor(person,'a'));

</script>
</body>
</html>